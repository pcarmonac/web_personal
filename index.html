<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Portfolio</title>
    <link rel="icon" href="images/favicon.JPG" type="image/jpeg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom CSS for features Tailwind can't handle */
        :root {
            --primary-dark: #FF8C00;   /* Naranjo oscuro */
            --text-dark: #f0fdf4;
            --bg-dark: #020617;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }

        .dark-mode {
            background-color: var(--bg-dark);
            color: var(--text-dark);
            --primary: var(--primary-dark);
        }

        .logo-bg {
            background-image: url('images/fondo.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
            background-size: cover;
            opacity: 0.8;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
        }

        .parallax {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .nav-item {
            position: relative;
        }

        .nav-item::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: var(--primary);
            transition: width 0.3s;
        }

        .nav-item:hover::after {
            width: 100%;
        }

        .gallery-item {
            transition: transform 0.3s;
        }

        .gallery-item:hover {
            transform: scale(1.05);
            z-index: 10;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            left: -10px;
            top: 10px;
            background-color: var(--primary);
        }
        
        .timeline-item {
            position: relative;
            padding-left: 15px;
            margin-bottom: 15px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            width: 2px;
            height: 100%;
            left: 0;
            top: 0;
            background-color: var(--primary);
        }

        .language-option {
            cursor: pointer;
            opacity: 0.5;
            transition: opacity 0.3s;
        }

        .language-option.active {
            opacity: 1;
            font-weight: bold;
        }

        .fade-in {
            animation: fadeIn 1.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .mode-toggle {
            transition: transform 0.3s;
        }

        .mode-toggle:hover {
            transform: rotate(30deg);
        }

        .copy-btn {
            transition: all 0.3s;
        }

        .copy-btn:hover {
            background-color: var(--primary);
            color: white;
        }

        .copy-btn.copied {
            background-color: #10b981;
            color: white;
        }

        .filter-btn {
            transition: all 0.3s;
        }

        .filter-btn.active {
            background-color: var(--primary);
            color: white;
        }

        @media (max-width: 768px) {
            .logo-bg {
                background-size: 100px;
            }
            
            .parallax {
                background-attachment: scroll;
            }
        }
    </style>
</head>
<body class="dark-mode">
    <!-- Background Logo -->
    <div class="logo-bg"></div>

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-black bg-opacity-90 backdrop-blur-sm shadow-md">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="flex items-center justify-center" style="width: 400px; height: 70px; padding: 1px;">
                    <img src="images/agua.PNG" alt="Logo Agua" class="w-full h-full object-contain">
                </div>
            </div>
            <nav class="hidden md:flex space-x-8">
                <a href="#home" class="nav-item text-white hover:text-orange-300 py-2 text-2xl" data-en="Home" data-es="Inicio">Inicio</a>
                <a href="#about" class="nav-item text-white hover:text-orange-300 py-2 text-2xl" data-en="About" data-es="Sobre M√≠">Sobre M√≠</a>
                <a href="#gallery" class="nav-item text-white hover:text-orange-300 py-2 text-2xl" data-en="Gallery" data-es="Galer√≠a">Galer√≠a</a>
                <a href="#interests" class="nav-item text-white hover:text-orange-300 py-2 text-2xl" data-en="Interests" data-es="Intereses">Intereses</a>
                <a href="#contact" class="nav-item text-white hover:text-orange-300 py-2 text-2xl" data-en="Contact" data-es="Contacto">Contacto</a>
            </nav>

            <div class="flex items-center space-x-4">
                <div class="flex space-x-2">
                    <span class="language-option active" data-lang="es">üá®üá±</span>
                    <span class="language-option" data-lang="en">üá∫üá∏</span>
                </div>
                
                <button class="md:hidden text-white text-2xl" id="mobile-menu-button">
                    ‚ò∞
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="md:hidden hidden bg-black bg-opacity-90 py-2" id="mobile-menu">
            <div class="container mx-auto px-4 flex flex-col space-y-3">
                <a href="#home" class="nav-item text-white hover:text-orange-300 py-1" data-en="Home" data-es="Inicio">Inicio</a>
                <a href="#about" class="nav-item text-white hover:text-orange-300 py-1" data-en="About" data-es="Sobre M√≠">Sobre M√≠</a>
                <a href="#gallery" class="nav-item text-white hover:text-orange-300 py-1" data-en="Gallery" data-es="Galer√≠a">Galer√≠a</a>
                <a href="#interests" class="nav-item text-white hover:text-orange-300 py-1" data-en="Interests" data-es="Intereses">Intereses</a>
                <a href="#contact" class="nav-item text-white hover:text-orange-300 py-1" data-en="Contact" data-es="Contacto">Contacto</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="min-h-screen flex items-center justify-center relative overflow-hidden">
        <div class="container mx-auto px-4 text-center">
            <h1 class="fade-in text-5xl md:text-7xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-orange-600">
                <span data-es="¬°Bienvenido a mi mundo!" data-en="Welcome to my world!">¬°Bienvenido a mi mundo!</span>
            </h1>
            <p class="text-xl md:text-2xl mb-8" data-es="Explora mi trabajo y pasiones" data-en="Explore my work & passions">
                Explora mi trabajo y pasiones
            </p>
            <a href="#about" class="inline-block px-8 py-3 bg-orange-500 text-white rounded-full font-semibold hover:bg-orange-600 transition duration-300">
                <span data-es="Con√≥ceme" data-en="Know Me">Con√≥ceme</span>
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center">
                <span data-es="" data-en="" id="about-title"></span>
            </h2>
            
            <div class="flex flex-col lg:flex-row gap-12 items-center">
                <div class="lg:w-1/3 flex justify-center">
                    <div class="w-64 h-64 rounded-full overflow-hidden border-4 border-orange-500 shadow-lg">
                        <img src="images/perfil.jpg" 
                             alt="Profile" class="w-full h-full object-cover">
                    </div>
                </div>
                
                <div class="lg:w-2/3">
                    <h3 class="text-2xl font-semibold mb-4" data-es="" data-en="" id="about-name"></h3>
                    <p class="mb-6" data-es="" data-en="" id="about-description"></p>
                    
                    <div class="mb-8">
                        <h4 class="text-xl font-semibold mb-3" data-es="" data-en="" id="skills-title"></h4>
                        <div class="flex flex-wrap gap-2" id="skills-container">
                            <!-- Skills will be loaded from JSON -->
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="text-xl font-semibold mb-3" data-es="" data-en="" id="experience-title"></h4>
                        <div class="relative pl-8 timeline" id="experience-container">
                            <!-- Experience items will be loaded from JSON -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="py-20 bg-gray-100 dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-6 text-center" data-es="Galer√≠a" data-en="Gallery">Galer√≠a</h2>
            <p class="text-center mb-12 max-w-2xl mx-auto" data-es="Explora algunos de mis proyectos y fotograf√≠as" 
               data-en="Explore some of my projects and photographs">
                Explora algunos de mis proyectos y fotograf√≠as
            </p>
            
            <div class="flex justify-center mb-8 flex-wrap gap-2">
                <button class="filter-btn px-4 py-2 rounded-full active" data-category="all">
                    <span data-es="Todo" data-en="All">Todo</span>
                </button>
                <button class="filter-btn px-4 py-2 rounded-full" data-category="photography">
                    <span data-es="Fotografia" data-en="Photography">Fotograf√≠a</span>
                </button>
                <button class="filter-btn px-4 py-2 rounded-full" data-category="travel">
                    <span data-es="Viajes" data-en="Travel">Viajes</span>
                </button>
                <button class="filter-btn px-4 py-2 rounded-full" data-category="projects">
                    <span data-es="Proyectos" data-en="Projects">Proyectos</span>
                </button>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 gallery-container">
                <!-- Gallery items will be added here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Interests Section -->
    <section id="interests" class="py-20">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center" id="interests-title"></h2>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8" id="interests-container">
                <!-- Los intereses se cargar√°n din√°micamente desde interests.json -->
            </div>
        </div>
    </section>

    <script>
        // Cargar los intereses desde el archivo JSON
        fetch('interests.json')
            .then(response => response.json())
            .then(data => {
                // Actualizar el t√≠tulo de la secci√≥n
                document.getElementById('interests-title').textContent = data.title.es;
                document.getElementById('interests-title').setAttribute('data-es', data.title.es);
                document.getElementById('interests-title').setAttribute('data-en', data.title.en);
                
                // Contenedor de intereses
                const interestsContainer = document.getElementById('interests-container');
                
                // Crear elementos para cada inter√©s
                data.interests.forEach(interest => {
                    const interestElement = document.createElement('div');
                    interestElement.className = 'bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition duration-300 cursor-pointer interest-item';
                    
                    interestElement.innerHTML = `
                        <div class="h-48 bg-orange-500 flex items-center justify-center">
                            <i class="${interest.icon} text-white text-6xl"></i>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2" data-es="${interest.title.es}" data-en="${interest.title.en}">${interest.title.es}</h3>
                            <p data-es="${interest.description.es}" data-en="${interest.description.en}">
                                ${interest.description.es}
                            </p>
                        </div>
                    `;
                    
                    // A√±adir evento de clic para abrir el modal con la imagen correspondiente
                    interestElement.addEventListener('click', () => {
                        openImageModal(interest.image, interest.title.es);
                    });
                    
                    interestsContainer.appendChild(interestElement);
                });
                
                // A√±adir estilos para el efecto hover similar a la galer√≠a
                const style = document.createElement('style');
                style.textContent = `
                    .interest-item {
                        transition: transform 0.3s;
                    }
                    
                    .interest-item:hover {
                        transform: scale(1.05);
                        z-index: 10;
                    }
                `;
                document.head.appendChild(style);
            })
            .catch(error => console.error('Error cargando intereses:', error));
    </script>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-gray-100 dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center" data-es="Cont√°ctame" data-en="Contact Me">Cont√°ctame</h2>
            
            <div class="max-w-3xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                <div class="md:flex">
                    <div class="md:w-1/2 bg-orange-500 p-8 text-white">
                        <h3 class="text-2xl font-semibold mb-4" data-es="Informaci√≥n de Contacto" data-en="Contact Information">Informaci√≥n de Contacto</h3>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <i class="fas fa-envelope mt-1 mr-3"></i>
                                <div>
                                    <p class="font-semibold" data-es="Correo Electr√≥nico" data-en="Email">Correo Electr√≥nico</p>
                                    <div class="flex items-center mt-1">
                                        <span id="email-address">contacto@example.com</span>
                                        <button class="copy-btn ml-2 px-2 py-1 text-xs border border-white rounded" 
                                                data-es="Copiar" data-en="Copy">Copiar</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-map-marker-alt mt-1 mr-3"></i>
                                <div>
                                    <p class="font-semibold" data-es="Ubicaci√≥n" data-en="Location">Ubicaci√≥n</p>
                                    <p data-es="Iquique, Chile" data-en="Iquique, Chile">Iquique, Chile</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-phone-alt mt-1 mr-3"></i>
                                <div>
                                    <p class="font-semibold" data-es="Tel√©fono" data-en="Phone">Tel√©fono</p>
                                    <a href="https://t.me/pcarmonac" class="w-10 h-10 rounded-full bg-white text-orange-500 flex items-center justify-center hover:bg-gray-100 transition duration-300">
                                        <i class="fab fa-telegram"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8">
                            <h4 class="text-xl font-semibold mb-4" data-es="S√≠gueme" data-en="Follow Me">S√≠gueme</h4>
                            <div class="flex space-x-4">
                                <a href="https://www.instagram.com/pcarmonac/" class="w-10 h-10 rounded-full bg-white text-orange-500 flex items-center justify-center hover:bg-gray-100 transition duration-300">
                                    <i class="fab fa-instagram"></i>
                                </a>
                                <a href="https://www.facebook.com/pablo.carmona.165033/" class="w-10 h-10 rounded-full bg-white text-orange-500 flex items-center justify-center hover:bg-gray-100 transition duration-300">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                                <a href="https://www.youtube.com/@pcarmonac" class="w-10 h-10 rounded-full bg-white text-orange-500 flex items-center justify-center hover:bg-gray-100 transition duration-300">
                                    <i class="fab fa-youtube"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="md:w-1/2 p-8">
                        <h3 class="text-2xl font-semibold mb-4" data-es="Env√≠ame un Mensaje" data-en="Send Me a Message">Env√≠ame un Mensaje</h3>
                        <form>
                            <div class="mb-4">
                                <label class="block text-gray-700 dark:text-gray-300 mb-2" for="name" data-es="Nombre" data-en="Name">Nombre</label>
                                <input type="text" id="name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:border-gray-600">
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 dark:text-gray-300 mb-2" for="email" data-es="Correo Electr√≥nico" data-en="Email">Correo Electr√≥nico</label>
                                <input type="email" id="email" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:border-gray-600">
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 dark:text-gray-300 mb-2" for="message" data-es="Mensaje" data-en="Message">Mensaje</label>
                                <textarea id="message" rows="4" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:border-gray-600"></textarea>
                            </div>
                            <button type="submit" class="w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition duration-300">
                                <span data-es="Enviar Mensaje" data-en="Send Message">Enviar Mensaje</span>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center space-x-2">
                        <div class="flex items-center justify-center" style="width: px; height: 60px; padding: 2px;">
                            <img src="images/agua.PNG" alt="Logo Agua" class="w-full h-full object-contain">
                        </div>
                    </div>
                </div>
                
                <div class="flex space-x-6 mb-4 md:mb-0">
                    <a href="https://x.com/pcarmonac" class="hover:text-orange-300 transition duration-300"><i class="fab fa-twitter"></i></a>
                    <a href="https://www.linkedin.com/in/pacarmona/" class="hover:text-orange-300 transition duration-300"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://github.com/pcarmonac" class="hover:text-orange-300 transition duration-300"><i class="fab fa-github"></i></a>
                </div>
                
                <div class="text-center md:text-right">
                    <p class="text-sm" data-es="Hecho con amor ‚ù§Ô∏è desde Iquique - Chile" 
                       data-en="Made with love ‚ù§Ô∏è from Iquique - Chile">
                        Hecho con amor ‚ù§Ô∏è desde Iquique - Chile
                    </p>
                    <p class="text-xs mt-1">¬© 2023 Pablo Carmona. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal para mostrar im√°genes en pantalla completa -->
    <div id="imageModal" class="fixed inset-0 z-50 hidden opacity-0 flex items-center justify-center bg-black bg-opacity-80 transition-opacity duration-300">
        <div class="relative max-w-4xl max-h-screen p-4">
            <img id="modalImage" src="" alt="" class="max-w-full max-h-[90vh] object-contain select-none pointer-events-none transform scale-95 transition-transform duration-300" style="-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-touch-callout: none;" oncontextmenu="return false;" draggable="false">
        </div>
    </div>
    
    <style>
        /* Estilos adicionales para el modal de im√°genes */
        #imageModal.opacity-100 #modalImage {
            transform: scale(1);
        }
        
        /* Prevenir selecci√≥n de texto en todo el modal */
        #imageModal * {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
    </style>

    <script>
        // Load content from JSON
        async function loadContent() {
            try {
                const response = await fetch('content.json');
                const content = await response.json();
                
                // Load About section content
                document.getElementById('about-title').textContent = content.about.title.es;
                document.getElementById('about-title').setAttribute('data-es', content.about.title.es);
                document.getElementById('about-title').setAttribute('data-en', content.about.title.en);
                
                document.getElementById('about-name').textContent = content.about.intro.name.es;
                document.getElementById('about-name').setAttribute('data-es', content.about.intro.name.es);
                document.getElementById('about-name').setAttribute('data-en', content.about.intro.name.en);
                
                document.getElementById('about-description').textContent = content.about.intro.description.es;
                document.getElementById('about-description').setAttribute('data-es', content.about.intro.description.es);
                document.getElementById('about-description').setAttribute('data-en', content.about.intro.description.en);
                
                document.getElementById('skills-title').textContent = content.about.skills.title.es;
                document.getElementById('skills-title').setAttribute('data-es', content.about.skills.title.es);
                document.getElementById('skills-title').setAttribute('data-en', content.about.skills.title.en);
                
                // Load skills
                const skillsContainer = document.getElementById('skills-container');
                content.about.skills.items.forEach(skill => {
                    const skillSpan = document.createElement('span');
                    skillSpan.className = 'px-3 py-1 bg-orange-100 dark:bg-orange-900 rounded-full';
                    skillSpan.textContent = skill;
                    skillsContainer.appendChild(skillSpan);
                });
                
                document.getElementById('experience-title').textContent = content.about.experience.title.es;
                document.getElementById('experience-title').setAttribute('data-es', content.about.experience.title.es);
                document.getElementById('experience-title').setAttribute('data-en', content.about.experience.title.en);
                
                // Load experience items
                const experienceContainer = document.getElementById('experience-container');
                content.about.experience.jobs.forEach((job, index) => {
                    const isLast = index === content.about.experience.jobs.length - 1;
                    const jobDiv = document.createElement('div');
                    jobDiv.className = isLast ? 'relative timeline-item' : 'mb-8 relative timeline-item';
                    
                    const title = document.createElement('h5');
                    title.className = 'font-semibold';
                    title.textContent = job.title;
                    
                    const period = document.createElement('p');
                    period.className = 'text-sm text-gray-500 dark:text-gray-400';
                    period.textContent = `${job.company} | ${job.period}`;
                    
                    const description = document.createElement('p');
                    description.textContent = job.description.es;
                    description.setAttribute('data-es', job.description.es);
                    description.setAttribute('data-en', job.description.en);
                    
                    jobDiv.appendChild(title);
                    jobDiv.appendChild(period);
                    jobDiv.appendChild(description);
                    experienceContainer.appendChild(jobDiv);
                });
                
                // Load CTA button text
                document.getElementById('about-cta').textContent = content.about.cta.es;
                document.getElementById('about-cta').setAttribute('data-es', content.about.cta.es);
                document.getElementById('about-cta').setAttribute('data-en', content.about.cta.en);
                
                // Load navigation text
                document.getElementById('nav-about').textContent = content.navigation.about.es;
                document.getElementById('nav-about').setAttribute('data-es', content.navigation.about.es);
                document.getElementById('nav-about').setAttribute('data-en', content.navigation.about.en);
                
                document.getElementById('mobile-nav-about').textContent = content.navigation.about.es;
                document.getElementById('mobile-nav-about').setAttribute('data-es', content.navigation.about.es);
                document.getElementById('mobile-nav-about').setAttribute('data-en', content.navigation.about.en);
                
            } catch (error) {
                console.error('Error loading content:', error);
            }
        }
        
        // Gallery Data will be loaded from gallery.json
        let galleryItems = [];
        
        // Load gallery data
        async function loadGalleryData() {
            try {
                const response = await fetch('gallery.json');
                const data = await response.json();
                galleryItems = data.items;
            } catch (error) {
                console.error('Error loading gallery data:', error);
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', async function() {
            // Load content from JSON
            loadContent();
            
            // Load gallery data
            await loadGalleryData();
            
            // Initialize dark mode from localStorage
            const darkMode = localStorage.getItem('darkMode') === 'true';
            if (darkMode) {
                document.body.classList.add('dark-mode');
                document.body.classList.remove('light-mode');
                document.querySelector('.light-icon').classList.add('hidden');
                document.querySelector('.dark-icon').classList.remove('hidden');
            }

            // Initialize language from localStorage
            const language = localStorage.getItem('language') || 'es';
            setLanguage(language);

            // Initialize gallery
            renderGallery('all');

            // Mobile menu toggle
            document.getElementById('mobile-menu-button').addEventListener('click', function() {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('hidden');
            });

            // Smooth scrolling for navigation
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu if open
                        document.getElementById('mobile-menu').classList.add('hidden');
                    }
                });
            });

            // Dark mode toggle
            document.querySelector('.mode-toggle').addEventListener('click', function() {
                const isDarkMode = document.body.classList.contains('dark-mode');
                
                if (isDarkMode) {
                    document.body.classList.remove('dark-mode');
                    document.body.classList.add('light-mode');
                    document.querySelector('.light-icon').classList.remove('hidden');
                    document.querySelector('.dark-icon').classList.add('hidden');
                    localStorage.setItem('darkMode', 'false');
                } else {
                    document.body.classList.remove('light-mode');
                    document.body.classList.add('dark-mode');
                    document.querySelector('.light-icon').classList.add('hidden');
                    document.querySelector('.dark-icon').classList.remove('hidden');
                    localStorage.setItem('darkMode', 'true');
                }
            });

            // Language toggle
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    setLanguage(lang);
                    
                    // Update active state
                    document.querySelectorAll('.language-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });

            // Gallery filter buttons
            document.querySelectorAll('.filter-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    
                    // Update active state
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Render filtered gallery
                    renderGallery(category);
                });
            });

            // Copy email button
            document.querySelector('.copy-btn').addEventListener('click', function() {
                const email = document.getElementById('email-address').textContent;
                navigator.clipboard.writeText(email);
                
                // Update button text and style
                const currentLang = localStorage.getItem('language') || 'es';
                this.textContent = currentLang === 'es' ? 'Copiado!' : 'Copied!';
                this.classList.add('copied');
                
                // Reset after 2 seconds
                setTimeout(() => {
                    this.textContent = currentLang === 'es' ? 'Copiar' : 'Copy';
                    this.classList.remove('copied');
                }, 2000);
            });
        });

        // Set language function
        function setLanguage(lang) {
            localStorage.setItem('language', lang);
            
            // Update all elements with data attributes
            document.querySelectorAll('[data-es], [data-en]').forEach(element => {
                if (element.hasAttribute(`data-${lang}`)) {
                    const text = element.getAttribute(`data-${lang}`);
                    
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = text;
                    } else {
                        element.textContent = text;
                    }
                }
            });
            
            // Update gallery descriptions if needed
            const currentCategory = document.querySelector('.filter-btn.active')?.getAttribute('data-category') || 'all';
            renderGallery(currentCategory);
        }

        // Render gallery function
        function renderGallery(category) {
            const galleryContainer = document.querySelector('.gallery-container');
            const currentLang = localStorage.getItem('language') || 'es';
            
            // Clear existing items
            galleryContainer.innerHTML = '';
            
            // Check if gallery items are loaded
            if (galleryItems.length === 0) {
                console.error('Gallery items not loaded yet');
                return;
            }
            
            // Filter items by category
            const filteredItems = category === 'all' 
                ? galleryItems 
                : galleryItems.filter(item => item.category === category);
            
            // Render filtered items
            filteredItems.forEach(item => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg cursor-pointer';
                
                galleryItem.innerHTML = `
                    <div class="h-48 overflow-hidden">
                        <img src="${item.image}" alt="${item.title}" class="w-full h-full object-cover">
                    </div>
                    <div class="p-4">
                        <h3 class="font-semibold mb-1">${item.title}</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300">${item.description[currentLang]}</p>
                    </div>
                `;
                
                // A√±adir evento de clic para abrir el modal
                galleryItem.addEventListener('click', () => {
                    openImageModal(item.image, item.title);
                });
                
                galleryContainer.appendChild(galleryItem);
            });
        }
        
        // Funciones para el modal de im√°genes
        function openImageModal(imageSrc, imageAlt) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            
            // Establecer la imagen en el modal
            modalImage.src = imageSrc;
            modalImage.alt = imageAlt;
            
            // Mostrar el modal con animaci√≥n
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.add('opacity-100');
            }, 10);
            
            // A√±adir eventos para cerrar el modal
            modal.addEventListener('click', closeImageModal);
            document.addEventListener('keydown', closeImageModalOnKey);
        }
        
        function closeImageModal(event) {
            // Solo cerrar si se hace clic fuera de la imagen
            if (event.target.id === 'imageModal') {
                const modal = document.getElementById('imageModal');
                modal.classList.remove('opacity-100');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
                
                // Eliminar eventos
                modal.removeEventListener('click', closeImageModal);
                document.removeEventListener('keydown', closeImageModalOnKey);
            }
        }
        
        function closeImageModalOnKey(event) {
            // Cerrar con cualquier tecla
            const modal = document.getElementById('imageModal');
            modal.classList.remove('opacity-100');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
            
            // Eliminar eventos
            modal.removeEventListener('click', closeImageModal);
            document.removeEventListener('keydown', closeImageModalOnKey);
        }
    </script>
</html>